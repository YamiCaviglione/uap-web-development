---
const { tarea, index } = Astro.props; //representa una sola tarea de la lista
---
{tarea && (
<li class={`bg-pink-50 w-11/12 max-w-2xl p-3 mx-auto my-4 rounded-lg text-lg border border-pink-200 flex items-center ${tarea.completada ? 'opacity-60' : ''}`} data-task-item>
  {/* <!--formulario para toggle --> */}
  <form method="POST" action="/" data-ajax class="mr-2">
    <input type="hidden" name="toggle" value={index} />
    <button type="submit" class="cursor-pointer text-lg hover:text-pink-600" aria-label={tarea.completada ? 'Marcar como pendiente' : 'Completar'}>
      {tarea.completada ? '✓' : '▢'}
    </button>
  </form>

  <span class={`flex-grow break-words ${tarea.completada ? 'line-through' : ''}`}>
    {tarea.texto} 
  </span>

  {/* <!-- Formulario para borrar --> */}
  <form method="POST" action="/" data-ajax>
    <input type="hidden" name="borrar" value={index} />
    <button type="submit" class="bg-red-500 text-white font-bold px-2 py-1 rounded text-center w-10 h-7 hover:bg-red-600 ml-2" aria-label="Eliminar tarea">
      X
    </button>
  </form>
</li>
)}